import{a as b,c as I,w as t,r as d,o as E,b as u,t as U,d as l,e as i,j as q,q as D,F as R}from"./app-DouUbhVd.js";import{U as N}from"./UploadImage-i_V0JoWh.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={components:{UploadImage:N},data(){return{error:"",valid:!1,validWarm:!1,dialogAddWarm:!1,dialogExersise:!1,activeWeek:void 0,valid:!1,url:"",rules:{required:o=>!!o||"Required Field"},activeWarm:{name:"",description:"",time:"",reps:"",image:"",time:""},activeEx:{name:"",description:"",time:"",reps:"",image:"",time:"",week:"",video:""},program:{name:"",image:"",price:"",description:"",items:"",warmup:[]},items:["Dumbbells","Dumbbells2","Dumbbells3","Dumbbells4"],headers:[{text:"Name",align:"start",value:"name"},{text:"Description",value:"description"},{text:"Time",value:"time"},{text:"Reps",value:"reps"}],listWeeks:[]}},methods:{onFileChangeEx(o){console.log("e",o);const a=o[0];let _=new FormData;_.append("image",a),b.post("/uploadImage",_,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:c})=>this.activeEx.image=c)},clearImgEx(){this.activeEx.image=""},saveProgram(){if(this.$refs.form.validate())try{let o=new FormData,a=[];this.listWeeks.forEach(c=>c.forEach(s=>a.push(s))),this.program.items=JSON.stringify(a),Object.keys(this.program).forEach(c=>{o.append(c,this.program[c])}),console.log(o),b.post("/programs/create",o,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{console.log(c),this.$router.push("/programs")})}catch(o){console.log(o)}else console.log("form error")},deleteWeek(o){this.listWeeks.splice(o,1)},dialogAddExersise(o){this.dialogExersise=!0,this.activeWeek=o},addWeek(){this.listWeeks.push([])},saveWarmRow(){if(this.activeWarm.description==""){this.$store.commit("SET_SNACKBAR",{show:!0,text:"Description is empty"});return}else if(this.$refs.formWarm.validate())try{let o={...this.activeWarm};this.program.warmup.push(o),this.resetWarmForm()}catch(o){console.log(o)}},saveRowEx(){if(this.activeEx.description==""){this.$store.commit("SET_SNACKBAR",{show:!0,text:"Description is empty"});return}else if(this.$refs.formEx.validate())try{this.activeEx.week=this.activeWeek;let o={...this.activeEx};this.listWeeks[this.activeWeek].push(o),this.resetExForm()}catch(o){console.log(o)}},resetWarmForm(){this.dialogAddWarm=!1,this.activeWarm.name="",this.activeWarm.description="",this.activeWarm.time="",this.activeWarm.image="",this.activeWarm.reps=""},resetExForm(){this.dialogExersise=!1,this.activeWeek=void 0,this.activeEx.name="",this.activeEx.description="",this.activeEx.time="",this.activeEx.image="",this.activeEx.reps="",this.activeEx.week="",this.activeEx.video=""},clearImg(){this.program.image="",this.url=""},clearImgWarm(){this.activeWarm.image=""},onFileChange(o){const a=o[0];this.url=URL.createObjectURL(a),this.program.image=a},onFileChangeWarm(){const o=e.target.files[0];this.activeWarm.image=o}}},B={class:"d-flex justify-content-between"},P=u("h4",null,"Name",-1),j=u("h4",null,"Price",-1),L=u("h4",null,"Featured Image",-1),O=u("h4",null,"Description",-1),K=u("h3",null,"Warm Up",-1),J=u("div",{class:"h-10"},null,-1),z=u("div",{class:"h-10"},null,-1),G={class:"pa-3"},H={class:"pa-3 m-2"},M={class:"pa-3 m-2"};function Q(o,a,_,c,s,n){const p=d("v-btn"),f=d("v-text-field"),m=d("v-col"),x=d("upload-image"),v=d("v-row"),W=d("wysiwyg"),h=d("v-icon"),C=d("v-data-table"),V=d("v-form"),k=d("v-flex"),w=d("v-card"),y=d("v-dialog"),F=d("v-main");return E(),I(F,null,{default:t(()=>[u("div",B,[u("h3",null,"Creating Program"+U(s.program.name),1),l(p,{onClick:n.saveProgram,color:"primary"},{default:t(()=>[i(" Save ")]),_:1},8,["onClick"])]),l(V,{ref:"form",id:"create-form",modelValue:s.valid,"onUpdate:modelValue":a[4]||(a[4]=r=>s.valid=r)},{default:t(()=>[P,l(f,{modelValue:s.program.name,"onUpdate:modelValue":a[0]||(a[0]=r=>s.program.name=r),rules:[s.rules.required],class:"field",required:"",flat:""},null,8,["modelValue","rules"]),l(v,null,{default:t(()=>[l(m,{cols:"6"},{default:t(()=>[j,l(f,{modelValue:s.program.price,"onUpdate:modelValue":a[1]||(a[1]=r=>s.program.price=r),rules:[s.rules.required],class:"field",type:"number",required:"",flat:""},null,8,["modelValue","rules"])]),_:1}),l(m,{class:"6"},{default:t(()=>[L,l(x,{onCleanImg:n.clearImg,onChanged:n.onFileChange,max:1},null,8,["onCleanImg","onChanged"])]),_:1})]),_:1}),l(v,null,{default:t(()=>[l(m,{class:"cols-12"},{default:t(()=>[O,l(W,{modelValue:s.program.description,"onUpdate:modelValue":a[2]||(a[2]=r=>s.program.description=r)},null,8,["modelValue"])]),_:1})]),_:1}),l(v,null,{default:t(()=>[l(m,{class:"cols-9"},{default:t(()=>[K]),_:1}),l(m,{class:"cols-3"},{default:t(()=>[l(p,{color:"primary",onClick:a[3]||(a[3]=r=>s.dialogAddWarm=!0)},{default:t(()=>[i(" Add Warm Up "),l(h,null,{default:t(()=>[i(" mdi-pencil ")]),_:1})]),_:1})]),_:1})]),_:1}),l(C,{headers:s.headers,"no-data-text":"Add exercises",items:s.program.warmup,"hide-default-footer":"",class:"elevation-1"},null,8,["headers","items"]),(E(!0),q(R,null,D(s.listWeeks,(r,g)=>(E(),q("div",{key:g},[J,l(v,null,{default:t(()=>[l(m,{cols:"8",class:""},{default:t(()=>[u("h3",null,"Week "+U(g+1),1)]),_:2},1024),l(m,{cols:"4",class:"flex"},{default:t(()=>[l(p,{color:"primary",onClick:A=>n.dialogAddExersise(g)},{default:t(()=>[i(" Add Exercise "),l(h,null,{default:t(()=>[i(" mdi-pencil ")]),_:1})]),_:2},1032,["onClick"]),l(p,{color:"error",onClick:A=>n.deleteWeek(g)},{default:t(()=>[i(" Delete Week "),l(h,null,{default:t(()=>[i(" mdi-pencil ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),l(C,{headers:s.headers,"no-data-text":"Add exercises",items:s.listWeeks[g],"hide-default-footer":"",class:"elevation-1"},null,8,["headers","items"])]))),128)),z,l(p,{color:"primary",onClick:n.addWeek},{default:t(()=>[i(" Add Week "),l(h,null,{default:t(()=>[i(" mdi-pencil ")]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue"]),l(y,{modelValue:s.dialogAddWarm,"onUpdate:modelValue":a[10]||(a[10]=r=>s.dialogAddWarm=r),persistent:"",width:"700",id:"bg-white"},{default:t(()=>[l(w,null,{default:t(()=>[l(V,{ref:"formWarm",modelValue:s.validWarm,"onUpdate:modelValue":a[9]||(a[9]=r=>s.validWarm=r)},{default:t(()=>[l(k,null,{default:t(()=>[l(m,{class:"cols-6"},{default:t(()=>[i(" Name "),l(f,{modelValue:s.activeWarm.name,"onUpdate:modelValue":a[5]||(a[5]=r=>s.activeWarm.name=r),rules:[s.rules.required],class:"field",required:"",flat:""},null,8,["modelValue","rules"])]),_:1}),l(m,{class:"cols-6"},{default:t(()=>[i(" Description "),l(W,{modelValue:s.activeWarm.description,"onUpdate:modelValue":a[6]||(a[6]=r=>s.activeWarm.description=r)},null,8,["modelValue"])]),_:1}),l(v,{class:"pa-3"},{default:t(()=>[l(m,{class:"cols-6"},{default:t(()=>[i(" Reps "),l(f,{modelValue:s.activeWarm.reps,"onUpdate:modelValue":a[7]||(a[7]=r=>s.activeWarm.reps=r),rules:[s.rules.required],class:"field",type:"number",required:"",flat:""},null,8,["modelValue","rules"])]),_:1}),l(m,{class:"cols-6"},{default:t(()=>[i(" Time "),l(f,{modelValue:s.activeWarm.time,"onUpdate:modelValue":a[8]||(a[8]=r=>s.activeWarm.time=r),rules:[s.rules.required],class:"field",type:"number",required:"",flat:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),u("div",G,[l(x,{onCleanImg:n.clearImgWarm,onChanged:n.onFileChangeWarm,max:1},null,8,["onCleanImg","onChanged"])])]),_:1}),u("div",H,[l(p,{onClick:n.resetWarmForm},{default:t(()=>[i(" Close ")]),_:1},8,["onClick"]),l(p,{onClick:n.saveWarmRow,color:"primary"},{default:t(()=>[i(" Save ")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),l(y,{modelValue:s.dialogExersise,"onUpdate:modelValue":a[17]||(a[17]=r=>s.dialogExersise=r),persistent:"",width:"700",id:"bg-white"},{default:t(()=>[l(w,null,{default:t(()=>[l(V,{ref:"formEx",modelValue:s.validWarm,"onUpdate:modelValue":a[16]||(a[16]=r=>s.validWarm=r)},{default:t(()=>[l(k,null,{default:t(()=>[l(m,{class:"cols-6"},{default:t(()=>[i(" Name "),l(f,{modelValue:s.activeEx.name,"onUpdate:modelValue":a[11]||(a[11]=r=>s.activeEx.name=r),rules:[s.rules.required],class:"field",required:"",flat:""},null,8,["modelValue","rules"])]),_:1}),l(m,{class:"cols-6"},{default:t(()=>[i(" Description "),l(W,{modelValue:s.activeEx.description,"onUpdate:modelValue":a[12]||(a[12]=r=>s.activeEx.description=r)},null,8,["modelValue"])]),_:1}),l(v,{class:"pa-3"},{default:t(()=>[l(m,{class:"cols-6"},{default:t(()=>[i(" Reps "),l(f,{modelValue:s.activeEx.reps,"onUpdate:modelValue":a[13]||(a[13]=r=>s.activeEx.reps=r),rules:[s.rules.required],class:"field",type:"number",required:"",flat:""},null,8,["modelValue","rules"])]),_:1}),l(m,{class:"cols-6"},{default:t(()=>[i(" Time "),l(f,{modelValue:s.activeEx.time,"onUpdate:modelValue":a[14]||(a[14]=r=>s.activeEx.time=r),rules:[s.rules.required],class:"field",type:"number",required:"",flat:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(v,{class:"pa-3"},{default:t(()=>[l(m,{cols:"cols-6"},{default:t(()=>[i(" Featured Image pp "),l(x,{onCleanImg:n.clearImgEx,onChanged:n.onFileChangeEx,max:1},null,8,["onCleanImg","onChanged"])]),_:1}),l(m,{cols:"cols-6"},{default:t(()=>[i(" Video "),l(f,{modelValue:s.activeEx.video,"onUpdate:modelValue":a[15]||(a[15]=r=>s.activeEx.video=r),class:"field",required:"",flat:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),u("div",M,[l(p,{onClick:n.resetExForm},{default:t(()=>[i(" Close ")]),_:1},8,["onClick"]),l(p,{onClick:n.saveRowEx,color:"primary"},{default:t(()=>[i(" Save ")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})}const $=S(T,[["render",Q]]);export{$ as default};
