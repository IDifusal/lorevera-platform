import{a as g,c as R,w as e,r as n,o as V,d as t,e as c,b as a,t as u,m as y}from"./app-DouUbhVd.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={created(){this.getRecipes()},data(){return{snackbar:!1,dialog:!1,img:"",items:[],text:"",headers:[{text:"Id",value:"id",sortable:!0},{text:"Name",value:"name"},{text:"Photo",value:"photo"},{text:"Actions",value:"actions"}],optionsTable:{itemsPerPage:10}}},methods:{activeImg(s){this.img=s,this.dialog=!0},deleteRecipe(s){this.$swal({title:"Are you sure?",text:"Yes, Delete Recipe!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then(i=>{if(i.value)try{g.get("/recipe/delete/"+s).then(()=>{let d=this.items.findIndex(m=>m.id==m);this.items.splice(d,1),this.$store.commit("SET_SNACKBAR",{show:!0,text:"Recipe deleted successfully"})})}catch{}})},getRecipes(){try{g.get("/recipe").then(({data:s})=>this.items=s)}catch(s){console.log(s)}}}},T=a("h2",null,"List Recipes",-1),A=["onClick","src"],I=["src"];function P(s,i,d,m,l,p){const v=n("v-col"),f=n("v-spacer"),_=n("v-icon"),r=n("v-btn"),x=n("v-row"),b=n("v-data-table"),k=n("v-dialog"),w=n("v-snackbar"),C=n("v-main");return V(),R(C,null,{default:e(()=>[t(x,{class:"mb-4"},{default:e(()=>[t(v,{cols:"3"},{default:e(()=>[T]),_:1}),t(f),t(v,{cols:"3"},{default:e(()=>[t(r,{color:"primary",to:"/recipes/create"},{default:e(()=>[c(" Create Recipe "),t(_,null,{default:e(()=>[c(" mdi-pencil ")]),_:1})]),_:1})]),_:1})]),_:1}),t(f),t(b,{headers:l.headers,items:l.items,"items-per-page":5,options:l.optionsTable,class:"elevation-1 pt-5"},{item:e(o=>[a("tr",null,[a("td",null,u(o.item.id),1),a("td",null,u(o.item.name),1),a("td",null,[a("img",{onClick:h=>p.activeImg(o.item.photo),width:"30px",src:o.item.photo,alt:""},null,8,A)]),a("td",null,[t(r,{color:"orange",fab:"",small:"",dark:"",to:{name:"recipe_plan_edit",params:{id:o.item.id}}},{default:e(()=>[t(_,null,{default:e(()=>[c("mdi-pencil")]),_:1})]),_:2},1032,["to"]),t(r,{color:"red",fab:"",small:"",dark:"",onClick:h=>p.deleteRecipe(o.item.id)},{default:e(()=>[t(_,null,{default:e(()=>[c("mdi-delete")]),_:1})]),_:2},1032,["onClick"])])])]),_:1},8,["headers","items","options"]),t(k,{modelValue:l.dialog,"onUpdate:modelValue":i[0]||(i[0]=o=>l.dialog=o),width:"500"},{default:e(()=>[a("img",{width:"30px",src:l.img,alt:""},null,8,I)]),_:1},8,["modelValue"]),t(w,{modelValue:l.snackbar,"onUpdate:modelValue":i[2]||(i[2]=o=>l.snackbar=o)},{action:e(({attrs:o})=>[t(r,y({color:"pink",text:""},o,{onClick:i[1]||(i[1]=h=>l.snackbar=!1)}),{default:e(()=>[c(" Close ")]),_:2},1040)]),default:e(()=>[c(u(l.text)+" ",1)]),_:1},8,["modelValue"])]),_:1})}const L=B(N,[["render",P]]);export{L as default};
