import{s as u,o as x,a as h,b as k,i as s,d as a,w as o,n,C as D,G as b,F as $,e as c,D as v,p as d,t as f,y as A,f as B}from"./app-BxxGe2Zv.js";const I={flex:""},N=s("h2",null,"List Days",-1),E={__name:"ListDays",setup(T){const m=B(),y=()=>{m.push({name:"days-add"})},i=u({dialog:!1,itemid:null}),p=u([{title:"id",value:"id"},{title:"Name",align:"start",sortable:!1,value:"title"},{title:"Actions",value:"actions",sortable:!1}]),r=u([]),g=e=>{m.push({name:"days-edit",params:{id:e.id,item:e}})},C=e=>{console.log("delete item",e),i.value.dialog=!0,i.value.itemid=e},_=async()=>{const e=i.value.itemid;try{await c.delete(`/api/web/delete-day/${e}`),r.value=r.value.filter(t=>t.id!==e),i.value.dialog=!1,i.value.itemid=null}catch(t){console.error(t)}},V=async()=>{try{const{data:e}=await c.get("/api/web/list-days");r.value=e}catch(e){console.error(e)}};return x(async()=>{await V()}),(e,t)=>(h(),k($,null,[s("div",I,[N,a(v),a(n,{color:"primary",onClick:t[0]||(t[0]=l=>y())},{default:o(()=>[d("Add")]),_:1})]),a(D,{headers:p.value,items:r.value,"items-per-page":100,class:"elevation-1 pt-5"},{item:o(l=>[s("tr",null,[s("td",null,f(l.item.id),1),s("td",null,f(l.item.title),1),s("td",null,[a(n,{color:"primary",text:"",onClick:w=>g(l.item)},{default:o(()=>[d(" Edit ")]),_:2},1032,["onClick"]),a(n,{color:"error",text:"",onClick:w=>C(l.item.id)},{default:o(()=>[d(" Delete ")]),_:2},1032,["onClick"])])])]),_:1},8,["headers","items"]),a(b,{modelValue:i.value.dialog,"onUpdate:modelValue":t[3]||(t[3]=l=>i.value.dialog=l),"max-width":"400",persistent:""},{default:o(()=>[a(A,{text:"Are you sure you want to delete this item?",title:"This will delete the item permanently."},{actions:o(()=>[a(v),a(n,{onClick:t[1]||(t[1]=l=>i.value.dialog=!1)},{default:o(()=>[d(" Cancel ")]),_:1}),a(n,{color:"lorevera",onClick:t[2]||(t[2]=l=>_())},{default:o(()=>[d(" Confirm ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{E as default};
