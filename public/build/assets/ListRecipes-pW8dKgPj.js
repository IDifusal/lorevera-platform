import{a as g,c as V,w as e,r as n,o as R,d as t,e as c,b as a,t as _,m as y}from"./app-DouUbhVd.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={created(){this.getRecipes()},data(){return{snackbar:!1,dialog:!1,img:"",items:[],text:"",headers:[{text:"Id",value:"id",sortable:!0},{text:"Name",value:"name"},{text:"Photo",value:"photo"},{text:"Actions",value:"actions"}],optionsTable:{itemsPerPage:10}}},methods:{activeImg(i){this.img=i,this.dialog=!0},deleteRecipe(i){this.$swal({title:"Are you sure?",text:"Yes, Delete Recipe!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then(s=>{if(s.value)try{g.get("/recipe/delete/"+i).then(()=>{let d=this.items.findIndex(m=>m.id==m);this.items.splice(d,1),this.$store.commit("SET_SNACKBAR",{show:!0,text:"Recipe deleted successfully"})})}catch{}})},getRecipes(){try{g.get("/nutrition").then(({data:i})=>this.items=i)}catch(i){console.log(i)}}}},T=a("h2",null,"Nutrition Plans",-1),P=["onClick","src"],A=["src"];function I(i,s,d,m,l,p){const v=n("v-col"),f=n("v-spacer"),u=n("v-icon"),r=n("v-btn"),x=n("v-row"),b=n("v-data-table"),k=n("v-dialog"),w=n("v-snackbar"),C=n("v-main");return R(),V(C,null,{default:e(()=>[t(x,{class:"mb-4"},{default:e(()=>[t(v,{cols:"3"},{default:e(()=>[T]),_:1}),t(f),t(v,{cols:"3"},{default:e(()=>[t(r,{color:"primary",to:"/recipes/create"},{default:e(()=>[c(" Create nutrition plan "),t(u,null,{default:e(()=>[c(" mdi-pencil ")]),_:1})]),_:1})]),_:1})]),_:1}),t(f),t(b,{headers:l.headers,items:l.items,"items-per-page":5,options:l.optionsTable,class:"elevation-1 pt-5"},{item:e(o=>[a("tr",null,[a("td",null,_(o.item.id),1),a("td",null,_(o.item.name),1),a("td",null,[a("img",{onClick:h=>p.activeImg(o.item.photo),width:"30px",src:o.item.photo,alt:""},null,8,P)]),a("td",null,[t(r,{color:"orange",fab:"",small:"",dark:"",to:{name:"recipe_plan_edit",params:{id:o.item.id}}},{default:e(()=>[t(u,null,{default:e(()=>[c("mdi-pencil")]),_:1})]),_:2},1032,["to"]),t(r,{color:"red",fab:"",small:"",dark:"",onClick:h=>p.deleteRecipe(o.item.id)},{default:e(()=>[t(u,null,{default:e(()=>[c("mdi-delete")]),_:1})]),_:2},1032,["onClick"])])])]),_:1},8,["headers","items","options"]),t(k,{modelValue:l.dialog,"onUpdate:modelValue":s[0]||(s[0]=o=>l.dialog=o),width:"500"},{default:e(()=>[a("img",{width:"30px",src:l.img,alt:""},null,8,A)]),_:1},8,["modelValue"]),t(w,{modelValue:l.snackbar,"onUpdate:modelValue":s[2]||(s[2]=o=>l.snackbar=o)},{action:e(({attrs:o})=>[t(r,y({color:"pink",text:""},o,{onClick:s[1]||(s[1]=h=>l.snackbar=!1)}),{default:e(()=>[c(" Close ")]),_:2},1040)]),default:e(()=>[c(_(l.text)+" ",1)]),_:1},8,["modelValue"])]),_:1})}const U=B(N,[["render",I]]);export{U as default};
