import{a as v,c as E,w as i,r as d,o as V,b as t,t as k,e as r,d as l,k as f,v as I,j as y,l as C,n as P}from"./app-DouUbhVd.js";import{U as B}from"./UploadImage-i_V0JoWh.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={components:{UploadImage:B},computed:{checkImg(){return typeof this.recipe.image}},data(){return{error:"",dialog:!1,rules:{required:u=>!!u||"Required Field."},valid:!1,url:"",recipe:{id:"",name:"",nameEs:"",photo:"",instructions:"",instructionsEs:"",preparation_time:"",cook_time:"",calories:"",fat:"",carbs:"",protein:"",premium:"",plan:"",categorie:"",ingredients:"",ingredientsEs:""}}},created(){this.getRecipe()},methods:{clearImg(){this.recipe.image=null},clearImgOld(){this.recipe.photo=null},onFileChange(u){this.recipe.image=u[0]},clearImage(){this.recipe.photo=""},getRecipe(){v.get("/recipe/"+this.$route.params.id).then(u=>{this.recipe=u.data})},updateFood(){if(this.recipe.id==""){this.error="error";return}else try{let u=new FormData;Object.keys(this.recipe).forEach(g=>{u.append(g,this.recipe[g])}),v.post("/recipe/edit",u,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$router.push("/recipes"),this.$store.commit("SET_SNACKBAR",{show:!0,text:"Recipe edited successfully"})})}catch(u){console.log(u)}}}},N=t("h4",null,"Name",-1),S=t("h4",{class:"pb-4"},"Details",-1),T=t("br",null,null,-1),M={key:0},D=["src"],O={key:1},j=t("br",null,null,-1),A=t("option",{value:"Meat Plan"},"Meat Plan",-1),L=t("option",{value:"Vegetarian Plan"},"Vegetarian Plan",-1),K=[A,L],z=t("br",null,null,-1),G=t("option",{value:"Breakfast"},"Breakfast",-1),H=t("option",{value:"Launch"},"Launch",-1),J=[G,H],Q=t("h4",{class:"py-4"},"Ingredients",-1),W=t("h4",{class:"py-4"},"Instructions",-1),X=t("div",{class:"lang-divider"},null,-1),Y=t("h3",null,"Spanish",-1),Z=t("h4",null,"Nombre",-1),$=t("h4",{class:"pb-4"},"Ingredientes",-1),ee=t("h4",{class:"pb-4"},"Instrucciones",-1),le=["src"];function oe(u,o,g,ie,e,m){const p=d("v-text-field"),a=d("v-card"),n=d("v-col"),h=d("v-icon"),U=d("upload-image"),c=d("v-row"),_=d("wysiwyg"),b=d("v-btn"),w=d("v-form"),q=d("v-dialog"),x=d("v-main");return V(),E(x,null,{default:i(()=>[t("h3",null,"Editing Recipe: "+k(e.recipe.name),1),N,r(" "+k(e.recipe.plan)+" ",1),l(w,{ref:"form",id:"create-form",modelValue:e.valid,"onUpdate:modelValue":o[15]||(o[15]=s=>e.valid=s)},{default:i(()=>[l(p,{modelValue:e.recipe.name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.recipe.name=s),rules:[e.rules.required],class:"field",required:"",flat:""},null,8,["modelValue","rules"]),S,l(c,null,{default:i(()=>[l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2 div-premium",height:"100%",outlined:""},{default:i(()=>[r(" Premium "),T,f(t("input",{type:"checkbox",name:"premium",id:"premium","true-value":"1","false-value":"0","onUpdate:modelValue":o[1]||(o[1]=s=>e.recipe.premium=s)},null,512),[[I,e.recipe.premium]])]),_:1})]),_:1}),l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Cook Time "),l(p,{modelValue:e.recipe.cook_time,"onUpdate:modelValue":o[2]||(o[2]=s=>e.recipe.cook_time=s),rules:[e.rules.required],class:"field",required:"",flat:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Preparation Time "),l(p,{modelValue:e.recipe.preparation_time,"onUpdate:modelValue":o[3]||(o[3]=s=>e.recipe.preparation_time=s),rules:[e.rules.required],class:"field",required:"",flat:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Image "),typeof this.recipe.photo=="string"&&e.recipe.photo.includes("aws")?(V(),y("div",M,[t("img",{src:e.recipe.photo,width:"150",class:"mt-3"},null,8,D),l(h,{onClick:m.clearImgOld},{default:i(()=>[r(" mdi-window-close ")]),_:1},8,["onClick"])])):(V(),y("div",O,[l(U,{onCleanImg:m.clearImg,onChanged:m.onFileChange,max:1},null,8,["onCleanImg","onChanged"])]))]),_:1})]),_:1})]),_:1}),l(c,null,{default:i(()=>[l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Calories "),l(p,{modelValue:e.recipe.calories,"onUpdate:modelValue":o[4]||(o[4]=s=>e.recipe.calories=s),rules:[e.rules.required],class:"field",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Fat "),l(p,{modelValue:e.recipe.fat,"onUpdate:modelValue":o[5]||(o[5]=s=>e.recipe.fat=s),rules:[e.rules.required],class:"field",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Carbs "),l(p,{modelValue:e.recipe.carbs,"onUpdate:modelValue":o[6]||(o[6]=s=>e.recipe.carbs=s),rules:[e.rules.required],class:"field",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(n,{cols:"3"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Proteim "),l(p,{modelValue:e.recipe.protein,"onUpdate:modelValue":o[7]||(o[7]=s=>e.recipe.protein=s),rules:[e.rules.required],class:"field",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(c,null,{default:i(()=>[l(n,{cols:"6"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Plan"),j,f(t("select",{name:"plan",id:"plan","onUpdate:modelValue":o[8]||(o[8]=s=>e.recipe.plan=s),class:"field"},K,512),[[C,e.recipe.plan]])]),_:1})]),_:1}),l(n,{cols:"6"},{default:i(()=>[l(a,{class:"pa-2",outlined:""},{default:i(()=>[r(" Category"),z,f(t("select",{name:"categorue",id:"categorie","onUpdate:modelValue":o[9]||(o[9]=s=>e.recipe.categorie=s),class:"field"},J,512),[[C,e.recipe.categorie]])]),_:1})]),_:1})]),_:1}),l(c,null,{default:i(()=>[l(n,{cols:"6"},{default:i(()=>[Q,l(_,{modelValue:e.recipe.ingredients,"onUpdate:modelValue":o[10]||(o[10]=s=>e.recipe.ingredients=s)},null,8,["modelValue"])]),_:1}),l(n,{cols:"6"},{default:i(()=>[W,l(_,{modelValue:e.recipe.instructions,"onUpdate:modelValue":o[11]||(o[11]=s=>e.recipe.instructions=s)},null,8,["modelValue"])]),_:1})]),_:1}),X,Y,Z,f(t("input",{type:"text",class:"field",name:"name",id:"name","onUpdate:modelValue":o[12]||(o[12]=s=>e.recipe.nameEs=s)},null,512),[[P,e.recipe.nameEs]]),l(c,null,{default:i(()=>[l(n,{cols:"6"},{default:i(()=>[$,l(_,{modelValue:e.recipe.ingredientsEs,"onUpdate:modelValue":o[13]||(o[13]=s=>e.recipe.ingredientsEs=s)},null,8,["modelValue"])]),_:1}),l(n,{cols:"6"},{default:i(()=>[ee,l(_,{modelValue:e.recipe.instructionsEs,"onUpdate:modelValue":o[14]||(o[14]=s=>e.recipe.instructionsEs=s)},null,8,["modelValue"])]),_:1})]),_:1}),l(b,{elevation:"2","x-large":"",class:"mt-4",onClick:m.updateFood,color:"primary"},{default:i(()=>[r(" Save "),l(h,null,{default:i(()=>[r("mdi-content-save")]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue"]),l(q,{modelValue:e.dialog,"onUpdate:modelValue":o[16]||(o[16]=s=>e.dialog=s),width:"600"},{default:i(()=>[t("img",{src:e.recipe.photo,class:"full-preview"},null,8,le)]),_:1},8,["modelValue"])]),_:1})}const re=F(R,[["render",oe]]);export{re as default};
